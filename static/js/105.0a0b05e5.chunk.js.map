{"version":3,"file":"static/js/105.0a0b05e5.chunk.js","mappings":"8PACA,EAA+B,gCAA/B,EAA+E,iCAA/E,EAAiI,kC,SCG1H,SAASA,EAAT,GAA+B,IAAVC,EAAS,EAATA,MAC1B,ECH6B,SAACC,EAAKC,GACnC,OAA0BC,EAAAA,EAAAA,WACxB,kCAAMC,KAAKC,MAAMC,aAAaC,QAAQN,WAAtC,QAA+CC,CAA/C,IADF,eAAOM,EAAP,KAAcC,EAAd,KAOA,OAHAC,EAAAA,EAAAA,YAAU,WACRJ,aAAaK,QAAQV,EAAKG,KAAKQ,UAAUJ,GAC1C,IACM,CAACA,EAAOC,EAChB,CDN2BI,CAAgB,cAAe,KAAzD,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAgBA,OACE,8BACE,kBAAMC,SAXW,SAAAC,GACnBA,EAAMC,iBACN,IACMC,EADOF,EAAMG,cACCC,SAASC,OAAOX,MACpCd,EAAMsB,GACNP,EAAS,IACLE,GAAcC,EAAgB,CAAElB,MAAOsB,GAC5C,EAIiCI,UAAWC,EAAzC,WACE,kBACED,UAAWC,EACXb,MAAOA,EACPc,SApBY,SAAAR,GAClB,IAAQN,EAAUM,EAAMS,OAAhBf,MACRC,EAASD,EACV,EAkBOgB,KAAK,YAEP,mBAAQJ,UAAWC,EAAoBI,KAAK,SAASC,UAAWlB,EAAhE,wBAMP,C,sBEMD,MArCA,WACE,OAAsCX,EAAAA,EAAAA,UAAS,IAA/C,eAAO8B,EAAP,KAAoBC,EAApB,KACA,GAA4B/B,EAAAA,EAAAA,UAAS,IAArC,eAAOgC,EAAP,KAAeC,EAAf,KACA,GAAuBpB,EAAAA,EAAAA,MAAhBC,GAAP,eAEMoB,GAAWC,EAAAA,EAAAA,MACXC,EAActB,EAAauB,IAAI,SAuBrC,OArBA9B,EAAAA,EAAAA,YAAU,WAAM,wCACd,gGAGSuB,IAAeM,EAHxB,iCAImBE,EAAAA,EAAAA,IAAeF,GAJlC,OAIMG,EAJN,+CAMmBD,EAAAA,EAAAA,IAAeR,GANlC,OAMMS,EANN,eAQIN,GAAU,OAAIM,IARlB,kDAUIC,QAAQC,IAAI,cAAZ,MAVJ,2DADc,uBAAC,WAAD,wBAcdC,EACD,GAAE,CAACN,EAAaN,KAOf,iCACE,SAAClC,EAAD,CAAWC,MANf,SAAsB0C,GACpBR,EAAeQ,EAChB,KAKG,SAACI,EAAA,EAAD,CAAYJ,KAAMP,EAAQE,SAAUA,MAGzC,C","sources":["webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","components/LocalStorage.jsx","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"search__form\":\"SearchBar_search__form__r0tJc\",\"search__input\":\"SearchBar_search__input__c-32j\",\"search__button\":\"SearchBar_search__button__LTVt3\"};","import { useLocalStorage } from '../LocalStorage';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './SearchBar.module.css';\n\nexport function SearchBar({ query }) {\n  const [value, setValue] = useLocalStorage('searchValue', ' ');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleInput = event => {\n    const { value } = event.target;\n    setValue(value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const string = form.elements.search.value;\n    query(string);\n    setValue('');\n    if (searchParams) setSearchParams({ query: string });\n  };\n\n  return (\n    <section>\n      <form onSubmit={handleSubmit} className={css.search__form}>\n        <input\n          className={css.search__input}\n          value={value}\n          onChange={handleInput}\n          name=\"search\"\n        />\n        <button className={css.search__button} type=\"submit\" disabled={!value}>\n          Search\n        </button>\n      </form>\n    </section>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nexport const useLocalStorage = (key, defaultValue) => {\n  const [state, setState] = useState(\n    () => JSON.parse(localStorage.getItem(key)) ?? defaultValue\n  );\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  });\n  return [state, setState];\n};","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\nimport { MoviesList } from 'components/Movies/Movies';\nimport { getQueryMovies } from '../Services/getApi';\n\nfunction Movies() {\n  const [searchValue, setSearchValue] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams] = useSearchParams();\n\n  const location = useLocation();\n  const queryString = searchParams.get('query');\n\n  useEffect(() => {\n    async function getData() {\n      try {\n        let data;\n        if (!searchValue && queryString) {\n          data = await getQueryMovies(queryString);\n        } else {\n          data = await getQueryMovies(searchValue);\n        }\n        setMovies([...data]);\n      } catch (error) {\n        console.log('Error data:', error);\n      }\n    }\n    getData();\n  }, [queryString, searchValue]);\n\n  function handleSearch(data) {\n    setSearchValue(data);\n  }\n\n  return (\n    <>\n      <SearchBar query={handleSearch} />\n      <MoviesList data={movies} location={location} />\n    </>\n  );\n}\n\nexport default Movies;\n"],"names":["SearchBar","query","key","defaultValue","useState","JSON","parse","localStorage","getItem","state","setState","useEffect","setItem","stringify","useLocalStorage","value","setValue","useSearchParams","searchParams","setSearchParams","onSubmit","event","preventDefault","string","currentTarget","elements","search","className","css","onChange","target","name","type","disabled","searchValue","setSearchValue","movies","setMovies","location","useLocation","queryString","get","getQueryMovies","data","console","log","getData","Movies"],"sourceRoot":""}